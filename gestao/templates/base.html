<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Scheduler</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        screens: {
                            xs: "475px",
                        },
                    },
                },
            };
        </script>
        <script src="https://unpkg.com/htmx.org@1.9.10"></script>
        <style>
            /* Disable text selection on touch devices for better UX */
            @media (max-width: 640px) {
                .work-block,
                .work-block-mobile {
                    -webkit-user-select: none;
                    -moz-user-select: none;
                    -ms-user-select: none;
                    user-select: none;
                    -webkit-touch-callout: none;
                }
            }

            .time-slot {
                height: 60px;
                border-bottom: 1px solid #e5e7eb;
            }

            /* Desktop work blocks */
            .work-block {
                position: absolute;
                background: #bfdbfe;
                border: 1px solid #3b82f6;
                border-radius: 4px;
                padding: 4px;
                cursor: pointer;
                transition: all 0.2s ease;
                box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
                min-height: 15px;
                overflow: hidden;
                touch-action: manipulation;
            }

            .work-block:hover {
                background: #93c5fd;
                border-color: #2563eb;
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
                transform: translateY(-1px);
            }

            .work-block p {
                margin: 0;
                line-height: 1.2;
            }

            /* Mobile work blocks */
            .work-block-mobile {
                touch-action: manipulation;
                transition: all 0.2s ease;
            }

            .work-block-mobile:active {
                transform: scale(0.98);
            }

            /* Info balloon styles */
            #info-balloon {
                min-width: 280px;
                max-width: 400px;
                border: 2px solid #e5e7eb;
                box-shadow:
                    0 10px 25px -5px rgba(0, 0, 0, 0.1),
                    0 10px 10px -5px rgba(0, 0, 0, 0.04);
                z-index: 1000;
            }

            /* Desktop balloon arrows */
            @media (min-width: 640px) {
                #info-balloon::before {
                    content: "";
                    position: absolute;
                    top: 10px;
                    left: -8px;
                    width: 0;
                    height: 0;
                    border-top: 8px solid transparent;
                    border-bottom: 8px solid transparent;
                    border-right: 8px solid #e5e7eb;
                }
                #info-balloon::after {
                    content: "";
                    position: absolute;
                    top: 11px;
                    left: -6px;
                    width: 0;
                    height: 0;
                    border-top: 7px solid transparent;
                    border-bottom: 7px solid transparent;
                    border-right: 7px solid white;
                }
            }

            /* Mobile-specific styles */
            @media (max-width: 640px) {
                #info-balloon {
                    min-width: 280px;
                    max-width: 90vw;
                    border-radius: 12px;
                    backdrop-filter: blur(10px);
                }

                .container {
                    padding-left: 8px;
                    padding-right: 8px;
                }

                /* Improve touch targets */
                button,
                .cursor-pointer {
                    min-height: 44px;
                    min-width: 44px;
                }

                /* Better typography on mobile */
                h1 {
                    line-height: 1.2;
                }
            }

            /* Smooth scrolling */
            html {
                scroll-behavior: smooth;
            }

            /* Better focus styles for accessibility */
            button:focus,
            a:focus,
            input:focus {
                outline: 2px solid #3b82f6;
                outline-offset: 2px;
            }

            /* Loading states */
            .htmx-request {
                opacity: 0.7;
                transition: opacity 0.2s ease;
            }

            /* Prevent horizontal scrolling issues */
            body {
                overflow-x: hidden;
            }
        </style>
    </head>
    <body class="bg-gray-100 min-h-screen">
        <div class="container mx-auto p-2 sm:p-4">
            {% block content %} {% endblock %}
        </div>
    </body>
</html>
